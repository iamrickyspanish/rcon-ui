{"ast":null,"code":"import _slicedToArray from \"/app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/app/src/Command/StatusMonitor/StatusMonitor.jsx\";\n\nimport React from \"react\";\nimport { Grid, Box, Spinner } from \"grommet\";\nimport { command } from \"../api\";\nimport { useMutation } from \"react-query\";\nimport use from \"Notification/use\";\n\nvar StatusMonitor = function StatusMonitor(props) {\n  var _useMutation = useMutation(function () {\n    return command(\"status\");\n  }),\n      data = _useMutation.data,\n      mutate = _useMutation.mutate,\n      isLoading = _useMutation.isLoading,\n      isSuccess = _useMutation.isSuccess,\n      isError = _useMutation.isError;\n\n  var _React$useState = React.useState(\"\"),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      status = _React$useState2[0],\n      setStatus = _React$useState2[1];\n\n  React.useEffect(function () {\n    mutate();\n    var interval = setInterval(mutate, 10000);\n    return function () {\n      clearInterval(interval);\n    };\n  }, []);\n  React.useEffect(function () {\n    if (data) setStatus(data.data);\n  }, [data]);\n  console.log(\"data\", data);\n  return /*#__PURE__*/React.createElement(Box, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Box, {\n    direction: \"row\",\n    pad: {\n      horizontal: \"medium\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Box, {\n    flex: true,\n    pad: {\n      vertical: \"medium\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 9\n    }\n  }, \"Monitor\"), isLoading && /*#__PURE__*/React.createElement(Spinner, {\n    size: \"xsmall\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 23\n    }\n  })), /*#__PURE__*/React.createElement(Box, {\n    pad: \"medium\",\n    style: {\n      whiteSpace: \"pre-line\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 7\n    }\n  }, status));\n};\n\nexport default StatusMonitor;","map":{"version":3,"sources":["/app/src/Command/StatusMonitor/StatusMonitor.jsx"],"names":["React","Grid","Box","Spinner","command","useMutation","use","StatusMonitor","props","data","mutate","isLoading","isSuccess","isError","useState","status","setStatus","useEffect","interval","setInterval","clearInterval","console","log","horizontal","vertical","whiteSpace"],"mappings":";;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,SAASC,IAAT,EAAeC,GAAf,EAAoBC,OAApB,QAAmC,SAAnC;AACA,SAASC,OAAT,QAAwB,QAAxB;AACA,SAASC,WAAT,QAA4B,aAA5B;AACA,OAAOC,GAAP,MAAgB,kBAAhB;;AAEA,IAAMC,aAAa,GAAG,SAAhBA,aAAgB,CAACC,KAAD,EAAW;AAAA,qBACyBH,WAAW,CAAC;AAAA,WAClED,OAAO,CAAC,QAAD,CAD2D;AAAA,GAAD,CADpC;AAAA,MACvBK,IADuB,gBACvBA,IADuB;AAAA,MACjBC,MADiB,gBACjBA,MADiB;AAAA,MACTC,SADS,gBACTA,SADS;AAAA,MACEC,SADF,gBACEA,SADF;AAAA,MACaC,OADb,gBACaA,OADb;;AAAA,wBAIHb,KAAK,CAACc,QAAN,CAAe,EAAf,CAJG;AAAA;AAAA,MAIxBC,MAJwB;AAAA,MAIhBC,SAJgB;;AAK/BhB,EAAAA,KAAK,CAACiB,SAAN,CAAgB,YAAM;AACpBP,IAAAA,MAAM;AACN,QAAMQ,QAAQ,GAAGC,WAAW,CAACT,MAAD,EAAS,KAAT,CAA5B;AAEA,WAAO,YAAM;AACXU,MAAAA,aAAa,CAACF,QAAD,CAAb;AACD,KAFD;AAGD,GAPD,EAOG,EAPH;AASAlB,EAAAA,KAAK,CAACiB,SAAN,CAAgB,YAAM;AACpB,QAAIR,IAAJ,EAAUO,SAAS,CAACP,IAAI,CAACA,IAAN,CAAT;AACX,GAFD,EAEG,CAACA,IAAD,CAFH;AAIAY,EAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ,EAAoBb,IAApB;AACA,sBACE,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,GAAD;AAAK,IAAA,SAAS,EAAC,KAAf;AAAqB,IAAA,GAAG,EAAE;AAAEc,MAAAA,UAAU,EAAE;AAAd,KAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,GAAD;AAAK,IAAA,IAAI,MAAT;AAAU,IAAA,GAAG,EAAE;AAAEC,MAAAA,QAAQ,EAAE;AAAZ,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADF,EAIGb,SAAS,iBAAI,oBAAC,OAAD;AAAS,IAAA,IAAI,EAAC,QAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAJhB,CADF,eAOE,oBAAC,GAAD;AAAK,IAAA,GAAG,EAAC,QAAT;AAAkB,IAAA,KAAK,EAAE;AAAEc,MAAAA,UAAU,EAAE;AAAd,KAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGV,MADH,CAPF,CADF;AAaD,CAhCD;;AAkCA,eAAeR,aAAf","sourcesContent":["import React from \"react\";\n\nimport { Grid, Box, Spinner } from \"grommet\";\nimport { command } from \"../api\";\nimport { useMutation } from \"react-query\";\nimport use from \"Notification/use\";\n\nconst StatusMonitor = (props) => {\n  const { data, mutate, isLoading, isSuccess, isError } = useMutation(() =>\n    command(\"status\")\n  );\n  const [status, setStatus] = React.useState(\"\");\n  React.useEffect(() => {\n    mutate();\n    const interval = setInterval(mutate, 10000);\n\n    return () => {\n      clearInterval(interval);\n    };\n  }, []);\n\n  React.useEffect(() => {\n    if (data) setStatus(data.data);\n  }, [data]);\n\n  console.log(\"data\", data);\n  return (\n    <Box>\n      <Box direction=\"row\" pad={{ horizontal: \"medium\" }}>\n        <Box flex pad={{ vertical: \"medium\" }}>\n          Monitor\n        </Box>\n        {isLoading && <Spinner size=\"xsmall\" />}\n      </Box>\n      <Box pad=\"medium\" style={{ whiteSpace: \"pre-line\" }}>\n        {status}\n      </Box>\n    </Box>\n  );\n};\n\nexport default StatusMonitor;\n"]},"metadata":{},"sourceType":"module"}