{"ast":null,"code":"import _toConsumableArray from \"/app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _objectWithoutProperties from \"/app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _slicedToArray from \"/app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/app/src/Notification/Provider.jsx\";\n\nimport React from \"react\";\nimport NotificationContext from \"./context\";\nimport useNotifications from \"./use\";\nimport PropTypes from \"prop-types\";\nimport { Layer, Box, Text, Button } from \"grommet\";\nimport { StatusGood, StatusCritical, StatusWarning, StatusInfo, Close } from \"grommet-icons\";\nimport { v4 as uuidv4 } from \"uuid\";\n\nvar mapTypeToIcon = function mapTypeToIcon(type) {\n  switch (type) {\n    case \"success\":\n      return /*#__PURE__*/React.createElement(StatusGood, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 17,\n          columnNumber: 14\n        }\n      });\n\n    case \"error\":\n      return /*#__PURE__*/React.createElement(StatusCritical, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 19,\n          columnNumber: 14\n        }\n      });\n\n    case \"warning\":\n      return /*#__PURE__*/React.createElement(StatusWarning, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 21,\n          columnNumber: 14\n        }\n      });\n\n    case \"info\":\n    default:\n      return /*#__PURE__*/React.createElement(StatusInfo, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 24,\n          columnNumber: 14\n        }\n      });\n  }\n};\n\nvar mapTypeToColors = function mapTypeToColors(type) {\n  switch (type) {\n    case \"success\":\n      return [\"status-ok\", \"white\"];\n\n    case \"error\":\n      return [\"status-critical\", \"white\"];\n\n    case \"warning\":\n      return [\"status-warning\", \"white\"];\n\n    case \"info\":\n    default:\n      return [\"white\", \"brand\"];\n  }\n};\n\nvar Notification = function Notification(props) {\n  var _mapTypeToColors = mapTypeToColors(props.type),\n      _mapTypeToColors2 = _slicedToArray(_mapTypeToColors, 2),\n      bg = _mapTypeToColors2[0],\n      color = _mapTypeToColors2[1];\n\n  var icon = mapTypeToIcon(props.type);\n  return /*#__PURE__*/React.createElement(Box, {\n    gap: \"small\",\n    direction: \"row\",\n    bg: bg,\n    color: color,\n    pad: \"medium\",\n    align: \"center\",\n    fill: \"horzontal\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 5\n    }\n  }, icon, /*#__PURE__*/React.createElement(Box, {\n    flex: 1,\n    direction: \"row\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }\n  }, props.message), /*#__PURE__*/React.createElement(Button, {\n    plain: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Close, {\n    onClick: props.onClose,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 9\n    }\n  })));\n};\n\nNotification.propTypes = {\n  status: PropTypes.oneOf([\"success\", \"error\", \"warning\", \"info\"]),\n  title: PropTypes.string,\n  onClose: PropTypes.func\n};\nNotification.propTypes = {\n  status: \"info\",\n  title: \"\",\n  onClose: function onClose(f) {\n    return f;\n  }\n};\n\nvar NotificationContainer = function NotificationContainer() {\n  var _useNotifications = useNotifications(),\n      notifications = _useNotifications.notifications,\n      closeNotification = _useNotifications.closeNotification,\n      closeAllNotifications = _useNotifications.closeAllNotifications;\n\n  var createCloseFn = React.useCallback(function (id) {\n    return function () {\n      return closeNotification(id);\n    };\n  }, []);\n  return /*#__PURE__*/React.createElement(Layer, {\n    position: \"bottom\",\n    modal: false,\n    margin: {\n      vertical: \"medium\",\n      horizontal: \"small\"\n    },\n    responsive: false,\n    plain: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 5\n    }\n  }, notifications.length > 4 && /*#__PURE__*/React.createElement(Box, {\n    direction: \"row\",\n    justify: \"flex-end\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    plain: true,\n    onClick: closeAllNotifications,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 11\n    }\n  }, \"close all \", /*#__PURE__*/React.createElement(Close, {\n    size: \"xsmall\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 23\n    }\n  }))), notifications.map(function (notification) {\n    return /*#__PURE__*/React.createElement(Box, {\n      animation: \"fadeIn\",\n      elevation: \"medium\",\n      key: notification.id,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Notification, Object.assign({}, notification, {\n      onClose: createCloseFn(notification.id),\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 11\n      }\n    })));\n  }));\n};\n\nexport default (function (_ref) {\n  var children = _ref.children,\n      restProps = _objectWithoutProperties(_ref, [\"children\"]);\n\n  //   restProps\n  var _React$useState = React.useState([]),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      notifications = _React$useState2[0],\n      setNotifications = _React$useState2[1];\n\n  var showNotification = React.useCallback(function (message, type) {\n    var id = uuidv4();\n    var notification = {\n      message,\n      type,\n      id\n    };\n    setNotifications([].concat(_toConsumableArray(notifications), [notification]));\n    return id;\n  }, [notifications]);\n  var closeNotification = React.useCallback(function (id) {\n    setNotifications(notifications.filter(function (notification) {\n      return notification.id !== id;\n    }));\n  }, [notifications]);\n  var closeAllNotifications = React.useCallback(function () {\n    setNotifications([]);\n  }, []);\n  var ctx = {\n    notifications,\n    showNotification,\n    closeNotification,\n    closeAllNotifications\n  };\n  return /*#__PURE__*/React.createElement(NotificationContext.Provider, {\n    value: ctx,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(NotificationContainer, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 7\n    }\n  }), children);\n});","map":{"version":3,"sources":["/app/src/Notification/Provider.jsx"],"names":["React","NotificationContext","useNotifications","PropTypes","Layer","Box","Text","Button","StatusGood","StatusCritical","StatusWarning","StatusInfo","Close","v4","uuidv4","mapTypeToIcon","type","mapTypeToColors","Notification","props","bg","color","icon","message","onClose","propTypes","status","oneOf","title","string","func","f","NotificationContainer","notifications","closeNotification","closeAllNotifications","createCloseFn","useCallback","id","vertical","horizontal","length","map","notification","children","restProps","useState","setNotifications","showNotification","filter","ctx"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport NotificationContext from \"./context\";\nimport useNotifications from \"./use\";\nimport PropTypes from \"prop-types\";\nimport { Layer, Box, Text, Button } from \"grommet\";\nimport {\n  StatusGood,\n  StatusCritical,\n  StatusWarning,\n  StatusInfo,\n  Close\n} from \"grommet-icons\";\nimport { v4 as uuidv4 } from \"uuid\";\nconst mapTypeToIcon = (type) => {\n  switch (type) {\n    case \"success\":\n      return <StatusGood />;\n    case \"error\":\n      return <StatusCritical />;\n    case \"warning\":\n      return <StatusWarning />;\n    case \"info\":\n    default:\n      return <StatusInfo />;\n  }\n};\n\nconst mapTypeToColors = (type) => {\n  switch (type) {\n    case \"success\":\n      return [\"status-ok\", \"white\"];\n    case \"error\":\n      return [\"status-critical\", \"white\"];\n    case \"warning\":\n      return [\"status-warning\", \"white\"];\n    case \"info\":\n    default:\n      return [\"white\", \"brand\"];\n  }\n};\n\nconst Notification = (props) => {\n  const [bg, color] = mapTypeToColors(props.type);\n  const icon = mapTypeToIcon(props.type);\n  return (\n    <Box\n      gap=\"small\"\n      direction=\"row\"\n      bg={bg}\n      color={color}\n      pad=\"medium\"\n      align=\"center\"\n      fill=\"horzontal\"\n    >\n      {icon}\n      <Box flex={1} direction=\"row\">\n        {props.message}\n      </Box>\n      <Button plain>\n        <Close onClick={props.onClose} />\n      </Button>\n    </Box>\n  );\n};\n\nNotification.propTypes = {\n  status: PropTypes.oneOf([\"success\", \"error\", \"warning\", \"info\"]),\n  title: PropTypes.string,\n  onClose: PropTypes.func\n};\n\nNotification.propTypes = {\n  status: \"info\",\n  title: \"\",\n  onClose: (f) => f\n};\n\nconst NotificationContainer = () => {\n  const { notifications, closeNotification, closeAllNotifications } =\n    useNotifications();\n\n  const createCloseFn = React.useCallback(\n    (id) => () => closeNotification(id),\n    []\n  );\n\n  return (\n    <Layer\n      position=\"bottom\"\n      modal={false}\n      margin={{ vertical: \"medium\", horizontal: \"small\" }}\n      responsive={false}\n      plain\n    >\n      {notifications.length > 4 && (\n        <Box direction=\"row\" justify=\"flex-end\">\n          <Button plain onClick={closeAllNotifications}>\n            close all <Close size=\"xsmall\" />\n          </Button>\n        </Box>\n      )}\n      {notifications.map((notification) => (\n        <Box animation=\"fadeIn\" elevation=\"medium\" key={notification.id}>\n          <Notification\n            {...notification}\n            onClose={createCloseFn(notification.id)}\n          />\n        </Box>\n      ))}\n    </Layer>\n  );\n};\n\nexport default ({ children, ...restProps }) => {\n  //   restProps\n  const [notifications, setNotifications] = React.useState([]);\n\n  const showNotification = React.useCallback(\n    (message, type) => {\n      const id = uuidv4();\n      const notification = { message, type, id };\n      setNotifications([...notifications, notification]);\n      return id;\n    },\n    [notifications]\n  );\n\n  const closeNotification = React.useCallback(\n    (id) => {\n      setNotifications(\n        notifications.filter((notification) => notification.id !== id)\n      );\n    },\n    [notifications]\n  );\n\n  const closeAllNotifications = React.useCallback(() => {\n    setNotifications([]);\n  }, []);\n\n  const ctx = {\n    notifications,\n    showNotification,\n    closeNotification,\n    closeAllNotifications\n  };\n\n  return (\n    <NotificationContext.Provider value={ctx}>\n      <NotificationContainer />\n      {children}\n    </NotificationContext.Provider>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}