{"ast":null,"code":"import _slicedToArray from \"/app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/app/src/Command/SayForm.jsx\";\n\nimport React from \"react\";\nimport { TextInput, Box, Button } from \"grommet\";\nimport { Chat, FormClose } from \"grommet-icons\";\nimport { useMutation } from \"react-query\";\nimport { command } from \"./api\";\n\nvar SayForm = function SayForm() {\n  var _React$useState = React.useState(\"\"),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      message = _React$useState2[0],\n      setMessage = _React$useState2[1];\n\n  var _useMutation = useMutation(function (message) {\n    return command(\"say \".concat(message));\n  }),\n      mutate = _useMutation.mutate,\n      isLoading = _useMutation.isLoading;\n\n  var handleChange = React.useCallback(function (e) {\n    setMessage(e.target.value);\n  }, []);\n  var handleClear = React.useCallback(function () {\n    setMessage(\"\");\n  }, []);\n  var handleKey = React.useCallback(function (e) {\n    console.log(\"e\", e);\n    if (e.which === 13) mutate(message);\n  }, [message]);\n  return /*#__PURE__*/React.createElement(Box, {\n    direction: \"row\",\n    full: \"horizontal\",\n    border: {\n      color: \"brand\",\n      size: \"small\"\n    },\n    pad: \"medium\",\n    gap: \"small\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Chat, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(TextInput, {\n    plain: \"full\",\n    value: message,\n    onChange: handleChange,\n    onKeyPress: handleKey,\n    disabled: isLoading,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 7\n    }\n  }), message && message.length && /*#__PURE__*/React.createElement(Button, {\n    icon: /*#__PURE__*/React.createElement(FormClose, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 17\n      }\n    }),\n    plain: true,\n    onClick: handleClear,\n    disabled: isLoading,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 9\n    }\n  }));\n};\n\nexport default SayForm;","map":{"version":3,"sources":["/app/src/Command/SayForm.jsx"],"names":["React","TextInput","Box","Button","Chat","FormClose","useMutation","command","SayForm","useState","message","setMessage","mutate","isLoading","handleChange","useCallback","e","target","value","handleClear","handleKey","console","log","which","color","size","length"],"mappings":";;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,SAAT,EAAoBC,GAApB,EAAyBC,MAAzB,QAAuC,SAAvC;AACA,SAASC,IAAT,EAAeC,SAAf,QAAgC,eAAhC;AACA,SAASC,WAAT,QAA4B,aAA5B;AACA,SAASC,OAAT,QAAwB,OAAxB;;AAEA,IAAMC,OAAO,GAAG,SAAVA,OAAU,GAAM;AAAA,wBACUR,KAAK,CAACS,QAAN,CAAe,EAAf,CADV;AAAA;AAAA,MACbC,OADa;AAAA,MACJC,UADI;;AAAA,qBAEUL,WAAW,CAAC,UAACI,OAAD;AAAA,WACxCH,OAAO,eAAQG,OAAR,EADiC;AAAA,GAAD,CAFrB;AAAA,MAEZE,MAFY,gBAEZA,MAFY;AAAA,MAEJC,SAFI,gBAEJA,SAFI;;AAMpB,MAAMC,YAAY,GAAGd,KAAK,CAACe,WAAN,CAAkB,UAACC,CAAD,EAAO;AAC5CL,IAAAA,UAAU,CAACK,CAAC,CAACC,MAAF,CAASC,KAAV,CAAV;AACD,GAFoB,EAElB,EAFkB,CAArB;AAIA,MAAMC,WAAW,GAAGnB,KAAK,CAACe,WAAN,CAAkB,YAAM;AAC1CJ,IAAAA,UAAU,CAAC,EAAD,CAAV;AACD,GAFmB,EAEjB,EAFiB,CAApB;AAIA,MAAMS,SAAS,GAAGpB,KAAK,CAACe,WAAN,CAChB,UAACC,CAAD,EAAO;AACLK,IAAAA,OAAO,CAACC,GAAR,CAAY,GAAZ,EAAiBN,CAAjB;AACA,QAAIA,CAAC,CAACO,KAAF,KAAY,EAAhB,EAAoBX,MAAM,CAACF,OAAD,CAAN;AACrB,GAJe,EAKhB,CAACA,OAAD,CALgB,CAAlB;AAQA,sBACE,oBAAC,GAAD;AACE,IAAA,SAAS,EAAC,KADZ;AAEE,IAAA,IAAI,EAAC,YAFP;AAGE,IAAA,MAAM,EAAE;AAAEc,MAAAA,KAAK,EAAE,OAAT;AAAkBC,MAAAA,IAAI,EAAE;AAAxB,KAHV;AAIE,IAAA,GAAG,EAAC,QAJN;AAKE,IAAA,GAAG,EAAC,OALN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAOE,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAPF,eAQE,oBAAC,SAAD;AACE,IAAA,KAAK,EAAC,MADR;AAEE,IAAA,KAAK,EAAEf,OAFT;AAGE,IAAA,QAAQ,EAAEI,YAHZ;AAIE,IAAA,UAAU,EAAEM,SAJd;AAKE,IAAA,QAAQ,EAAEP,SALZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IARF,EAeGH,OAAO,IAAIA,OAAO,CAACgB,MAAnB,iBACC,oBAAC,MAAD;AACE,IAAA,IAAI,eAAE,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADR;AAEE,IAAA,KAAK,MAFP;AAGE,IAAA,OAAO,EAAEP,WAHX;AAIE,IAAA,QAAQ,EAAEN,SAJZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAhBJ,CADF;AA0BD,CAhDD;;AAkDA,eAAeL,OAAf","sourcesContent":["import React from \"react\";\nimport { TextInput, Box, Button } from \"grommet\";\nimport { Chat, FormClose } from \"grommet-icons\";\nimport { useMutation } from \"react-query\";\nimport { command } from \"./api\";\n\nconst SayForm = () => {\n  const [message, setMessage] = React.useState(\"\");\n  const { mutate, isLoading } = useMutation((message) =>\n    command(`say ${message}`)\n  );\n\n  const handleChange = React.useCallback((e) => {\n    setMessage(e.target.value);\n  }, []);\n\n  const handleClear = React.useCallback(() => {\n    setMessage(\"\");\n  }, []);\n\n  const handleKey = React.useCallback(\n    (e) => {\n      console.log(\"e\", e);\n      if (e.which === 13) mutate(message);\n    },\n    [message]\n  );\n\n  return (\n    <Box\n      direction=\"row\"\n      full=\"horizontal\"\n      border={{ color: \"brand\", size: \"small\" }}\n      pad=\"medium\"\n      gap=\"small\"\n    >\n      <Chat />\n      <TextInput\n        plain=\"full\"\n        value={message}\n        onChange={handleChange}\n        onKeyPress={handleKey}\n        disabled={isLoading}\n      />\n      {message && message.length && (\n        <Button\n          icon={<FormClose />}\n          plain\n          onClick={handleClear}\n          disabled={isLoading}\n        />\n      )}\n    </Box>\n  );\n};\n\nexport default SayForm;\n"]},"metadata":{},"sourceType":"module"}