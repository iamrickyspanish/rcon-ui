{"ast":null,"code":"import _regeneratorRuntime from \"/app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _this = this,\n    _jsxFileName = \"/app/src/Session/Form.jsx\";\n\nimport React from \"react\";\nimport { useFormik } from \"formik\";\nimport { Box, TextInput, Select, FormField, Button, Grid } from \"grommet\";\nimport { create } from \"./api\";\nvar gameOptions = Object.freeze([{\n  value: \"cstrike\",\n  label: \"Counter Strike 1.6\"\n}]);\n\nvar SessionForm = function SessionForm(_ref) {\n  var onSessionStart = _ref.onSessionStart;\n  var formik = useFormik({\n    initialValues: {\n      game: \"cstrike\",\n      host: null,\n      port: 27015,\n      password: null\n    },\n    validateOnChange: false,\n    validateOnBlur: false,\n    onSubmit: function () {\n      var _onSubmit = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(values, _ref2) {\n        var setSubmitting, result;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                setSubmitting = _ref2.setSubmitting;\n                setSubmitting(true);\n                _context.next = 4;\n                return create(values);\n\n              case 4:\n                result = _context.sent;\n                console.log(\"r\", result);\n                onSessionStart(result);\n                setSubmitting(false);\n\n              case 8:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      function onSubmit(_x, _x2) {\n        return _onSubmit.apply(this, arguments);\n      }\n\n      return onSubmit;\n    }()\n  });\n  return /*#__PURE__*/React.createElement(Grid, {\n    rows: [\"flex\", \"auto\"],\n    as: \"form\",\n    onSubmit: formik.handleSubmit,\n    fill: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Box, {\n    overflow: \"auto\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(FormField, {\n    label: \"game\",\n    error: formik.errors.game,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Select, Object.assign({}, formik.getFieldProps(\"game\"), {\n    placeholder: \"Select\",\n    labelKey: \"label\",\n    valueKey: {\n      key: \"value\",\n      reduce: true\n    },\n    options: gameOptions,\n    disabled: formik.isSubmitting,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 11\n    }\n  }))), /*#__PURE__*/React.createElement(FormField, {\n    label: \"host\",\n    error: formik.errors.host,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(TextInput, Object.assign({}, formik.getFieldProps(\"host\"), {\n    disabled: formik.isSubmitting,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 11\n    }\n  }))), /*#__PURE__*/React.createElement(FormField, {\n    label: \"port\",\n    error: formik.errors.port,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(TextInput, Object.assign({}, formik.getFieldProps(\"port\"), {\n    disabled: formik.isSubmitting,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 11\n    }\n  }))), /*#__PURE__*/React.createElement(FormField, {\n    label: \"password\",\n    error: formik.errors.password,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(TextInput, Object.assign({\n    type: \"password\"\n  }, formik.getFieldProps(\"password\"), {\n    disabled: formik.isSubmitting,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 11\n    }\n  })))), /*#__PURE__*/React.createElement(Box, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    label: \"START\",\n    type: \"submit\",\n    disabled: formik.isSubmitting,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 9\n    }\n  })));\n};\n\nexport default SessionForm;","map":{"version":3,"sources":["/app/src/Session/Form.jsx"],"names":["React","useFormik","Box","TextInput","Select","FormField","Button","Grid","create","gameOptions","Object","freeze","value","label","SessionForm","onSessionStart","formik","initialValues","game","host","port","password","validateOnChange","validateOnBlur","onSubmit","values","setSubmitting","result","console","log","handleSubmit","errors","getFieldProps","key","reduce","isSubmitting"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { useFormik } from \"formik\";\nimport { Box, TextInput, Select, FormField, Button, Grid } from \"grommet\";\nimport { create } from \"./api\";\n\nconst gameOptions = Object.freeze([\n  { value: \"cstrike\", label: \"Counter Strike 1.6\" }\n]);\n\nconst SessionForm = ({ onSessionStart }) => {\n  const formik = useFormik({\n    initialValues: {\n      game: \"cstrike\",\n      host: null,\n      port: 27015,\n      password: null\n    },\n    validateOnChange: false,\n    validateOnBlur: false,\n    onSubmit: async (values, { setSubmitting }) => {\n      setSubmitting(true);\n      const result = await create(values);\n      console.log(\"r\", result);\n      onSessionStart(result);\n      setSubmitting(false);\n    }\n  });\n\n  return (\n    <Grid rows={[\"flex\", \"auto\"]} as=\"form\" onSubmit={formik.handleSubmit} fill>\n      <Box overflow=\"auto\">\n        <FormField label=\"game\" error={formik.errors.game}>\n          <Select\n            {...formik.getFieldProps(\"game\")}\n            placeholder=\"Select\"\n            labelKey=\"label\"\n            valueKey={{ key: \"value\", reduce: true }}\n            options={gameOptions}\n            disabled={formik.isSubmitting}\n          />\n        </FormField>\n        <FormField label=\"host\" error={formik.errors.host}>\n          <TextInput\n            {...formik.getFieldProps(\"host\")}\n            disabled={formik.isSubmitting}\n          />\n        </FormField>\n        <FormField label=\"port\" error={formik.errors.port}>\n          <TextInput\n            {...formik.getFieldProps(\"port\")}\n            disabled={formik.isSubmitting}\n          />\n        </FormField>\n        <FormField label=\"password\" error={formik.errors.password}>\n          <TextInput\n            type=\"password\"\n            {...formik.getFieldProps(\"password\")}\n            disabled={formik.isSubmitting}\n          />\n        </FormField>\n      </Box>\n      <Box>\n        <Button label=\"START\" type=\"submit\" disabled={formik.isSubmitting} />\n      </Box>\n    </Grid>\n  );\n};\n\nexport default SessionForm;\n"]},"metadata":{},"sourceType":"module"}